#ifndef PLATON_MPCC_CPP
#define PLATON_MPCC_CPP

#include <platon/platon.hpp>
#include <stdio.h>
#include <stdlib.h>
#include <string>

namespace mpc {

#define COMMON_SPLIT_CHAR "&"
#define OWNER "__OWNER__"

#define PREFIX "__MPC__"
#define PREFIX_BONUS_RULE "__BONUS_RULE__"

#define KEY_IR "__IR__"
#define KEY_PARTIES PREFIX "__PARTIES__"
#define KEY_URLS PREFIX "__URLS__"
#define KEY_INVITORS PREFIX "__INVITOR__"
#define KEY_TASK_INFO PREFIX "__TASK__"
#define KEY_METHOD_PRICE PREFIX "__METHOD_PRICE__"

/// IR data -> IR_VALUE_TEMPLATE
#define IR_VALUE "4243c0de3514000005000000620c30244959bea6eed37e2d4401320500000000210c0000670d00000b02210002000000130000000781239141c80449061032399201840c250508191e048b628020450242920b42041132143808184b0a32828848901420434688a50019324204490e901124c4504151818ce183e58a04414606511800003d0200001b5626f8ffffffff0170803200c280188777900779288771a00776c88736908777a80777208772208736208774b08774208772688379880779a0873630077868837608077a4007c01cc2811de6a11c00821cd2611ec2411cd8a11cda801ec2211dd8a10dc6211cd8811de60130877060877928078060877298877968037890877218877498877268037380877608077200cc211cd8611eca0120dce11ddac01ce4211cdaa11cda001ede211ddc811eca411edaa01cd8211dda0130877060877928078070877768837470077398873630077868837608077a4007c01cc2811de6a11c00c21ddea10dd4a11eda011eda801ec2411cd8a11ce60130877060877928078070877768037708077798873630077868837608077a4007c01cc2811de6a11c00c21ddea10de6211dcec11dca811cda401fca411ede611edac01ce0a10dda211ce8011d0073080776988772000877788736a0077908077880877470877368837608077a4007c01cc2811de6a11c00621ee8211cc6611dda001ee4e11de8a11cc6811ede411eda401ceac11ccca11ce4a10de6211df4a11c003c00087a080779388772a08736180778a807001ff0c00edac00ee80020e8211ce4e11cca811edac01cca211ce8a11ee4a11ce601580373c0877990073658837668077c60833598877928073658837998877290033658037cc0833b00887a70877908077328873630077868837608077a4007c01cc2811de6a11c00a21ee6a11cda601edec11ce8a10dcc811dde211ce801308770608779280760c3bb08ffffffff3f10e3f00ef2200fe5300ef4c00ef9d006f2f00ef5e00ee4500ee4d006e4900ef6900ee4500e6d300ff1200ff4d006e6000f6dd00ee1400fe800984338b0c33c94034090433acc433888033b94431bd04338a4033bb4c13884033bb0c33c00e6100eec300fe50010ec500ef3300f6d000ff2500ee3900ef3500e6d600ef0d00ee1400e803984033bcc433900843bbc431b98833c84433b94431bc0c33ba4833bd04339c8431b94033ba4433b00e6100eec300fe50010eef00e6d900eee600ef3d006e6000f6dd00ee1400fe800984338b0c33c940340b8c33bb4813b84833bcc431b98033cb4413b84033da003600ee1c00ef3500e00e10eefd006f3900ee7e00ee5400e6da00fe5200fef300f6d600ef0d006ed100ef4800e803984033bcc433900843bbc431bd0833c84033cc0433ab8c339b4413b84033da003600ee1c00ef3500e00310ff4100ee3b00e6d000ff2f00ef4500ee3400fef200f6d200ef5600ee6500ef2d006f3900efa500e001e00043d84833c9c4339d0431b8c033cd403800f7860076d6007740010f4100ef2700ee5400f6d600ee5100ef4500ff2500ef300ac8139e0c33cc8031bac413bb4033eb0c11accc33c94031bacc13ccc4339c8011bac013ee0c11d00443db8c33c84833994431b98033cb4413b84033da003600ee1c00ef3500e00510ff3500e6d300fef600ef4d006e6c00eef100ef400984338b0c33c9403b0811802c0da5010429006c4869629feffffff7f001c4002ca000803621cde411ee4a11cc6811ed8211fda401edea11edc811cca811cda801cd2c11ed2811ccaa10de6211ee4811edac01ce0a10dda211ce8011d007308077698877200087248877908077160877268037a0887746087361887706007769807c01cc2811de6a11c00821dca611ee6a10de0411eca611cd2611ecaa10dcc011eda211cc80130877060877928078070877768037390877068877268037878877470077a2807796883726087746807c01cc2811de6a11c00c21ddea10dd2c11dcc611edac01ce0a10dda211ce8011d007308077698877200087778873650877a68077868037a0807716087729807c01cc2811de6a11c00c21ddea10ddc211cdc611edac01ce0a10dda211ce8011d007308077698877200087778873698877438077728077268037d280779788779680373808736688770a0077400cc211cd8611eca0120dce11dda801ee4211ce0011ed2c11dcea10dda211ce8011d0073080776988772008879a08770188775680378908777a0877218077a780779680371a80773308772908736988774d0877200f00020e8211ce4e11cca811eda601ce0a11e007cc0033b68033ba00380a0877090877328077a680373288770a0877a9087729807600dcc011fe6411ed8600ddaa11df0810dd6601ee6a11cd8600de6611eca410ed8600df0010fee0020eac11de6211ccca11cdac01ce0a10dda211ce8011d007308077698877200887a988772688379780773a08736300776788770a007c01cc2811de6a11c800d86110009d06d200e01e83614c810a401b4a14880200da00d85220469806c28962148036443bc30ffffffff3f0012310eef200ff2500ee3400fec900f6d200fef500fee400ee5400e6d400ee9600fe9400ee5d006f3100ff2400f6d600ef0d006ed100ef4800e803984033bcc4339000439a4c33c848338b04339b4013d84433ab0431b8c4338b0033bcc03600ee1c00ef3500e00c10ee5300ff3d006f0200fe5300ee9300fe5d006e6000fed100ee400984338b0c33c940340b8c33bb48139c84338b44339b4013cbc433ab8033d94833cb44139b0433ab403600ee1c00ef3500e00e10eefd006e9e00ee6300f6d600ef0d006ed100ef4800e803984033bcc433900843bbc431bb84338b8c33cb48139c0431bb44338d0033a00e6100eec300fe50010eef00e6d300fe9700eee500ee4d006fa500ef2f00ef3d006e6000f6dd00ee1400fe800984338b0c33c940340b8c33bb4013dc84338c0033ca4833b9c431bb44338d0033a00e6100eec300fe50010f3400fe1300eebd006f0200fef400fe5300ef4f00ef2d006e2500fe6600ee5200f6d300fe9a00fe500e00140d04338c8c33994033db4c138c0433d00f8800776d00676400700410fe1200fe7500ef4d006e6500ee1400ff5200fe5300fc01a98033ecc833cb0c11ab4433be0031bacc13ccc4339b0c11accc33c94831cb0c11ae0031edc0140d4833bcc4338984339b48139c0431bb44338d0033a00e6100eec300fe50010f5300fe5d006f3f00ee6400f6d600eecf00ee1400f803984033bcc4339001b8c460012a0db6038ffffffff3f006d00481b8c270016800e361890002c40b58188feffffff7f00a40d841400dd0663faffffffff018800090000004918000016000000138260c2200cc404a1182608853161100e648220241388c050960943602813826242204c0898094331281384a299401486b24c189c079a1044130262821049138403991024130649592608923221502604d384e000000000892000009d0000003222080a206485041324a484041324e384a19014124c908c0b84044d1084c41c01921c0014900c003490300054901e0074900200943047000ab4304700066568686820871a3410040154a14182269200200516aea11ac469fcff676a9b4750603193330eec100ef3300f6e500eed000f7aa007a2900ef480820bc298491a077608877998073728877680073dd0835470077a2887732807794043454306695043213636381aa8a3081b1bf4310230d3360eec100ef3300f6e300ff4400e7aa007e3800ef2f00eeef00e7aa007e4500ff2100ef4900eefe00e285898a91b077608877998073798077a20073dd0837140077978077778073dd0037a48877628875f808777480777a0071488d048114248a8a410211b1b1b7452868d8d0d4a21914284ac9090104b19425656c8a5080b2b045386858d06922942c806d194616585816cca1042b242388508595959219d3982a0182112120b0d3cd4538205fa290309c90a05952084868a10224145d74853440993ff234e40152890a0a322203550d261d21451c2e4ffbf104dffe208c042fc0330016304002ddd264d11254cfeff0bd1f433d43221013611ff004cc01801404dc74953440993ffff4234fd8b23000bf13f0ed24c44242181c9899e4ad18024012541512560a0a962342c204940495055211a241a24e8aa100d120d3c9455880689060eda2a44834443037515a241a28181be0ad120d1b040613300345688068906322a2b448344c3189d0d01505a211a241ad468ad100d120d69d4560489057a23894234c4c571901cf10c044c018c05cc448d033b84c33ccc831b94433bc0831ee8c12cdc4338c0033c848338b04339a00080f06883328884568881a00809000000006306a014823143298c41306640075608c60c74e10ac1984144b660ccd0237a108c196e650c823183be64c1986166c4201833d4cd168c1960670c8231c3fc64c1988185c6201833bcd1168c1954690c8231433b6dc19801a5c6201833acd5168c194c4b0c8231037a6dc19861c48c60cc906258306608337f08c60c3ff71ec198c12583d808c60cbf1a9042306618dba014823103fa06aa108c19e438488b60ccb0db813c046386560f56211833e07cc013c198810e85251833fca1c00513c2001ff0c00e7ec10ee8a00de0611cdae01ed2c11dc8e11dee611edaa01de6c11ec6210ef2c00de2a00edc400eece00ee4200f36944139b4413be8c13db4413ad8011de8811dd0411b98031ec0811ec4811ce0411bb8031ee8411cd8811ecc811ce8811dd0411bcc421cc8011e283d204448081932526404d00861588371066a217640402904432e4c01000001000400b0032a853118065d98020000020010006007840eac500ce23005000004003000c00e882e5ce118c6610a000008008000801d90886cc9400e5300004000000500ec807a440f16a1162602000000000c00d801ddca180cc32e4c01000001001c00b003d2972c19ca610a000008000001801dd0cc88c130f0c214000010004002003ba0bad992c11ca600008000001400d801c1ce180c432f4c01000001002c00b0039a9f2c19ce610a000008008001801d100b8dc130f8c214000010004003003ba037da92011da600008000001c00d801a9d2180cc32f4c01000001003c00b0036aa72d19d2610a000008000002801d104a8dc13080c314000010004004003ba0b5da92411da600008000002400d8019996180c43384c01000001004c00b00342af2d19d6610a0000080080028021d22e0a9603004000000000000000b00330448a474182800000000000000000000018228d983101c014000000000050010030441a49a1eb80001000000002000000001822a518f601c034080000040060010030440a337f280300980801000000002e801d802112580a64700640001400000000000000000c9148531083340002c000000000000000006088f473efc10600301d00000000006000000c915c32880d3700800901000000002003006088f4ab0129c001004c8900000000001a00004324f314c6400e80005000000000000000001822a5a880d10110000b000040000000000043a4b10d4a010e00604a0400000000d800001822a16fa00a760000132300001000000700c010498e83b4c00300981a01000000003a00008648bb1dc8831e00c0e40000000000e0010030440a5321eb0320001e00000000000000008648ad1eac821d00c0c40800000400f001003044d25301fa0320001400000000000000008648381ff0442800c0c40800000400000600000c91545578460108000000000000020000802152ae0a4d29000100010000000000000030443257e149052000140000000000000000864874282cb10000530000000000401800003044fa43819b050098120000000000c40000802152bd0a572d0001a0000000000000000030446259c1720000080000000000000076008648622b90c11900015000000000000000003044325dc1720000080000000000000076008648bc2b90c119000150000000000000000030440261c1720000080000000000000076008648362c90c11900015000000000000000003044d263c1720000080000000000000076008648b02c90c11900015000000000000000003044a267c17200000800000000000000760086482a2d90c11900015000000000000000003044726bc1720000080000000000000076008648a42d90c11900015000000000000000003044426fc1720000080000000000000076008648fe2d90c119000150000000000000000030441273c17200000800000000000000001822e1b9b0dc02100000000000000000000043a45117985c00020000000000000000006088f4ea42b30b40000000000000000000000c91785d707a0108000000000000000000802192ba0bcd2f00010000000000000000003044ba77c1090720000000000000000000008648252f30e50004000000000000000000c01029e685e61c80000000000000000000001822f9bcd0ac03100000000000000000000043a4b5179c760002000000000000000000608894f782f10e40000000000000000000000c91fe5ec0e401000000000000000000008021d2ed0b983c000000000000000000000030447a7f01930700000000000000000000008648273860f20000000000000000000000c010e907074c1e00000000000000000000001822dde180c903000000000000000000000043a4571c307900000000000000000000006088748e03260f00000000000000000000000c91fe71c0e401000000000000000000008021d24d0e51290000000000000000000000304442cb8128052000000000000000000000243608147e6a0000c8020100000039000000321e981c19114c908c092647c604435a1801a08612288272a000dd4a7350da0dafd34141767a5cd6814a6490f02dd6814a64050decd212d2941251a10dc32e2d214d2911152c15ecd212d29412516152cb2e2d214d2911151d52edd212d2941251613ac32e2d214d2911155a33ecd212d29412518146d12e2d214d2911159e135181be41690e2a9141f474bb3c6781e86f7a980d1abfe774547d9ed2814a6650d85e9687cf65547d9ed2814a663ad0ae3407c9cbf33a9b8eea05d9e97119549a83846f714a072a911594a0c14a8396062a0d5e1a94343069c0d7c04b12b6111544370200b1180000740000003308801cc4e11c6614013d88433884c38c4280077978077398710ce6000fed100ef4800e330c421ec2c11dcea11c6630053d88433884831bcc033dc8433d8c033dcc788c7470077b08077948877070077a700376788770208719cc110eec900ee1300f6e300fe3f00ef0500e3310c41dde211cd8211dc2611e6630893bbc833bd04339b4033cbc833c84033bccf0147660077b680737688772680737808770908770600776280776f8057678877780875f08877118877298877998812ceef00eeee00ef5c00eec300362c8a11ce4a11ccca11ce4a11cdc611cca211cc4811dca6106d6904339c84339984339c84339b8c33894433888033b94c32fbc833cfc823bd4033bb0c30cc7698770588772708374680778608774188774a08719ce530fee000ff2500ee4900ee3400fe1200eec500e3320281ddcc11ec2411ed2211cdc811edce01ce4e11dea011e66185138b0433a9c833bcc50247660077b68073760877778077898514cf4900ff0500e331e6a1eca611ce8211ddec11d7e011ee4a11ccc211df0610654858338ccc33bb0433dd04339fcc23ce4433b88c33bb0c38cc50a877998877718877408077a28077298815ce3100eecc00ee5500ef33023c1d2411ee4e117d8e11dde011e000000007920000067000000621e482043880c19391924909140c6c8c86822500814329e18192147c8905144981601005f1ac4c125076ca0240000002f4641494c49464d49534d415443483a225f4d53435f5645523d31393030222f4641494c49464d49534d415443483a225f4954455241544f525f44454255475f4c4556454c3d30222f4641494c49464d49534d415443483a2252756e74696d654c6962726172793d4d545f53746174696352656c65617365222f44454641554c544c49423a6c696263706d742e6c69622f4641494c49464d49534d415443483a225f4352545f535444494f5f49534f5f574944455f535045434946494552533d3022636c616e672076657273696f6e20362e302e312028746167732f52454c454153455f3630312f66696e616c2977636861725f73697a65504943204c6576656c00000023084d2d8c2034b63082d0dcc20c41304320cc100c3304c40c41314360cc30248732c3b0208a8c042628273636bb3617b634b7b53239973738bab437b7b9518a85699c27153636bb369734b23237ba510228233636bb3697b637b23ab6321733b6b0b3b951844802a91800000b0000000b0a7228877780077a587098433db8c338b04339d0c382e61cc6a10de8411ec2c11de6211de8211ddec11d00d11000000600000007cc3ca4833b9c033b94033da0833c94433890c301000000612000008f0000001304532c1000000015000000d4300250c09a0c2431d4311041f30ecd3b0c750402d0bc43f30e431d852134efd0bcc350c7810ccd3b34ef30d4912844f30ecd3b50da180108822008822008f2ff30460082200882204cd2ab48d0dd080000000033114d530ba33013d134b5300a33114d530ba33013a135b5400a33115a530ba43013a135b5400a331163d0d40229cc44344d2d8cc24c84d6d40229cc448c41530ba4301321064d2d90c24c841834b5400a33114d530ba3306c4034d8000c1b104c3600c306c4620d00350d839a8631628000200806933c5857208c181c11088241270fcd4307d32411082281d4cd4313d1c13407008288107df3d08c18141208824119cc43336c4030dd00cc120cc4340c921ac6708310a0c12c038104d324130822057406f53039d2340805828801a5013d44ce2cc14150c3b0800f4060d880908201982518460c0a0904c1a00cf2019a26a94010492036b007079aa6412c104414c80deae171a63900104416080ee8e1b920cd2af0a4028f686b1817a4590d014d7300208830101cec8375419a555006524119108941c3986601401069a00925d6a00d02c1980601401071203900893080830b1a60d880e0820120ae614ca30020883cd0c4126e10076d1090d730460c0a0804c1800e48c20c460c0a0804c1800e48e20c460c0a0804c1800e48020d32983910d800983b108260c4a08040100ce8a024ce60e04008a29903a10d80b9032108460c0a0804c1800e4c220d060e84409a3910dc00983b108260c4a08040100ce8e024d660e020080000612000001c0000001304412c10000000020000002431024050230000331152530ba43013d134b5300a331152530ba43013810f4d2d84c2b001411c047082c48e18140008824129ac424083042143828c1814000882412ab082188c1820000882412cb0422024c3b001810403306c401c0b0110d23032000061200000130000001304412c1000000003000000b45002d4300240192300000033115b530ba4306c4004050150b0412ec8db1324760308c17141de6e8da140c460d880089201d81a839188c1b00111240490070061200000160000001304452c100000000100000074370200331162d0d40229cc442c4d2d90c2340600824840fc812a0c1b10424000d320170822026107ac3008d32017082203110aab601038732018c0dc811004230604068260300aaca0000061200000150000001304c14c041934b5400a331164d0d40229cc448841530ba4301321064d2d90c2b001411404306c400c0601104142460c8c0c04c1000f6421188820212306460682608007b3100c230647058260a007b2900c0402612000003a00000013044b2c1000000003000000b4500245413c23003500000033116bd0d40229cc442c4d2d90c24cc4d2d40229cc442c4d2d90c24cc4d2d402290c1b10854200b30c817050b142460c0a0004c1000e70211836208c8000460c8c0b04c1c00e70a1316609945986a150661988422164858c1814000882011cec4260812302c306441210c0888171812018d8012f44c92c4132cb601c0d312b64c4a00040100ce0e017820a221a3620988000460c8c0b04c1c00ec0a1626609108256c8884101802018c0c13804165822508145c306041410c0888171812018d8413968d02c01324b90cc122808000000612000000b0000001304412c1000000001000000d430020033116bd0d402290c1b10c1400014ac902d3204c340c102c900000000612000000b0000001304412c1000000001000000d430020033116bd0d402290c1b10c1400014ac902d3204c340c102c90000000061200000100000001304412c1000000001000000d430020033114c530ba43013b1064d2d90c2b001211004306c4004050150b042b6c8101004110c848205326c400c01012401000061200000110000001304412c1000000003000000b45010d430025010c4330200331164d0d402290c1b10c141001490903d3204457188c49e20b1230609008260d007b32004c961200000000061200000270000001304412c1000000003000000b45010d45010c4330200000033116bd0d40229cc44ac41530ba43013b134b5400a331162d0d40229cc448841530ba4306c401409010c1b1084420044ac901b24f604891d3148001004833eb00521589464c4a00040100ce040170a4a56c819127b82c48e1824000882411fe882103c4e3362500020080670e00b881541080c1b104c40002306c60582606007bb40310861200000100000001304412c1000000001000000d430020033114c530ba43013b1064d2d90c2b001211004306c4004050150b042b6c8101004110c848205326c400c01012401000061200000150000001304412c1000000003000000b45010d430025010c433020033116bd0d40229cc449041530ba4306c400807010c1b100142001490903d32048641c40a3941624f90d8118304004130e8835a10822541b20000000061200000180000001304c14c84d4d40229cc44c042530ba430132135b5400a3311a8d0d402290c1b10444100c306c46010c0b001211c04306c400408011021418880224448102290c8880101802018cc022b50b040460c120004c1a0165a211888c2c800000000006120000002000000130441a203000000612000008f0000001304532c1000000015000000d4300250c09a0c2431d4311046f30ecd3b0c750402d0bc43f30e431d852134efd0bcc350c7810ccd3b34ef30d4912847f30ecd3b50da180108822008822008f2ff30460082200882204cd2ab48d0dd080000000033114d530ba33013d134b5300a33114d530ba33013a135b5400a33115a530ba43013a135b5400a331163d0d40229cc44344d2d8cc24c84d6d40229cc448c41530ba4301321064d2d90c24c841834b5400a33114d530ba3306c4034d8000c1b104c3600c306c4620d00350d839a8631628000200806933c5857208c181c11088241270fcd4307d32411082281d4cd4313d1c13407008288107df3d08c18141208824119cc43336c4030dd00cc120cc4340c921ac6708310a0c12c038104d324130822057406bf3039d2340805828801a5013d44ce2cc14150c3b0800f4060d880908201982518460c0a0904c1a00cf2019a26a94010492036b007079aa6412c104414c80deae171a63900104416080ee8e1b920cd2af0a4028f686b1817a4590d014d7300208830101cec8375419a555006524119108941c3986601401069a00925d6a00d02c1980601401071203900893080830b1a60d880e0820120ae614ca30020883cd0c4126e10076d1090d730460c0a0804c1800e48c20c460c0a0804c1800e48e20c460c0a0804c1800e48020d32983910d800983b108260c4a08040100ce8a024ce60e04008a29903a10d80b9032108460c0a0804c1800e4c220d060e84409a3910dc00983b108260c4a08040100ce8e024d660e020080000612000008f0000001304532c1000000015000000d4300250c09a0c2431d4311048f30ecd3b0c750402d0bc43f30e431d852134efd0bcc350c7810ccd3b34ef30d4912849f30ecd3b50da180108822008822008f2ff30460082200882204cd2ab48d0dd080000000033114d530ba33013d134b5300a33114d530ba33013a135b5400a33115a530ba43013a135b5400a331163d0d40229cc44344d2d8cc24c84d6d40229cc448c41530ba4301321064d2d90c24c841834b5400a33114d530ba3306c4034d8000c1b104c3600c306c4620d00350d839a8631628000200806933c5857208c181c11088241270fcd4307d32411082281d4cd4313d1c13407008288107df3d08c18141208824119cc43336c4030dd00cc120cc4340c921ac6708310a0c12c038104d324130822057406bd3039d2340805828801a5013d44ce2cc14150c3b0800f4060d880908201982518460c0a0904c1a00cf2019a26a94010492036b007079aa6412c104414c80deae171a63900104416080ee8e1b920cd2af0a4028f686b1817a4590d014d7300208830101cec8375419a555006524119108941c3986601401069a00925d6a00d02c1980601401071203900893080830b1a60d880e0820120ae614ca30020883cd0c4126e10076d1090d730460c0a0804c1800e48c20c460c0a0804c1800e48e20c460c0a0804c1800e48020d32983910d800983b108260c4a08040100ce8a024ce60e04008a29903a10d80b9032108460c0a0804c1800e4c220d060e84409a3910dc00983b108260c4a08040100ce8e024d660e020080000612000008f0000001304532c1000000015000000d4300250c09a0c2431d431104af30ecd3b0c750402d0bc43f30e431d852134efd0bcc350c7810ccd3b34ef30d491284bf30ecd3b50da180108822008822008f2ff30460082200882204cd2ab48d0dd080000000033114d530ba33013d134b5300a33114d530ba33013a135b5400a33115a530ba43013a135b5400a331163d0d40229cc44344d2d8cc24c84d6d40229cc448c41530ba4301321064d2d90c24c841834b5400a33114d530ba3306c4034d8000c1b104c3600c306c4620d00350d839a8631628000200806933c5857208c181c11088241270fcd4307d32411082281d4cd4313d1c13407008288107df3d08c18141208824119cc43336c4030dd00cc120cc4340c921ac6708310a0c12c038104d324130822057406bb3039d2340805828801a5013d44ce2cc14150c3b0800f4060d880908201982518460c0a0904c1a00cf2019a26a94010492036b007079aa6412c104414c80deae171a63900104416080ee8e1b920cd2af0a4028f686b1817a4590d014d7300208830101cec8375419a555006524119108941c3986601401069a00925d6a00d02c1980601401071203900893080830b1a60d880e0820120ae614ca30020883cd0c4126e10076d1090d730460c0a0804c1800e48c20c460c0a0804c1800e48e20c460c0a0804c1800e48020d32983910d800983b108260c4a08040100ce8a024ce60e04008a29903a10d80b9032108460c0a0804c1800e4c220d060e84409a3910dc00983b108260c4a08040100ce8e024d660e020080000612000008f0000001304532c1000000015000000d4300250c09a0c2431d431104cf30ecd3b0c750402d0bc43f30e431d852134efd0bcc350c7810ccd3b34ef30d491284df30ecd3b50da180108822008822008f2ff30460082200882204cd2ab48d0dd080000000033114d530ba33013d134b5300a33114d530ba33013a135b5400a33115a530ba43013a135b5400a331163d0d40229cc44344d2d8cc24c84d6d40229cc448c41530ba4301321064d2d90c24c841834b5400a33114d530ba3306c4034d8000c1b104c3600c306c4620d00350d839a8631628000200806933c5857208c181c11088241270fcd4307d32411082281d4cd4313d1c13407008288107df3d08c18141208824119cc43336c4030dd00cc120cc4340c921ac6708310a0c12c038104d324130822057406b93039d2340805828801a5013d44ce2cc14150c3b0800f4060d880908201982518460c0a0904c1a00cf2019a26a94010492036b007079aa6412c104414c80deae171a63900104416080ee8e1b920cd2af0a4028f686b1817a4590d014d7300208830101cec8375419a555006524119108941c3986601401069a00925d6a00d02c1980601401071203900893080830b1a60d880e0820120ae614ca30020883cd0c4126e10076d1090d730460c0a0804c1800e48c20c460c0a0804c1800e48e20c460c0a0804c1800e48020d32983910d800983b108260c4a08040100ce8a024ce60e04008a29903a10d80b9032108460c0a0804c1800e4c220d060e84409a3910dc00983b108260c4a08040100ce8e024d660e020080000612000008f0000001304532c1000000015000000d4300250c09a0c2431d431104ef30ecd3b0c750402d0bc43f30e431d852134efd0bcc350c7810ccd3b34ef30d491284ff30ecd3b50da180108822008822008f2ff30460082200882204cd2ab48d0dd080000000033114d530ba33013d134b5300a33114d530ba33013a135b5400a33115a530ba43013a135b5400a331163d0d40229cc44344d2d8cc24c84d6d40229cc448c41530ba4301321064d2d90c24c841834b5400a33114d530ba3306c4034d8000c1b104c3600c306c4620d00350d839a8631628000200806933c5857208c181c11088241270fcd4307d32411082281d4cd4313d1c13407008288107df3d08c18141208824119cc43336c4030dd00cc120cc4340c921ac6708310a0c12c038104d324130822057406b73039d2340805828801a5013d44ce2cc14150c3b0800f4060d880908201982518460c0a0904c1a00cf2019a26a94010492036b007079aa6412c104414c80deae171a63900104416080ee8e1b920cd2af0a4028f686b1817a4590d014d7300208830101cec8375419a555006524119108941c3986601401069a00925d6a00d02c1980601401071203900893080830b1a60d880e0820120ae614ca30020883cd0c4126e10076d1090d730460c0a0804c1800e48c20c460c0a0804c1800e48e20c460c0a0804c1800e48020d32983910d800983b108260c4a08040100ce8a024ce60e04008a29903a10d80b9032108460c0a0804c1800e4c220d060e84409a3910dc00983b108260c4a08040100ce8e024d660e020080000612000008f0000001304532c1000000015000000d4300250c09a0c2431d4311050f30ecd3b0c750402d0bc43f30e431d852134efd0bcc350c7810ccd3b34ef30d4912851f30ecd3b50da180108822008822008f2ff30460082200882204cd2ab48d0dd080000000033114d530ba33013d134b5300a33114d530ba33013a135b5400a33115a530ba43013a135b5400a331163d0d40229cc44344d2d8cc24c84d6d40229cc448c41530ba4301321064d2d90c24c841834b5400a33114d530ba3306c4034d8000c1b104c3600c306c4620d00350d839a8631628000200806933c5857208c181c11088241270fcd4307d32411082281d4cd4313d1c13407008288107df3d08c18141208824119cc43336c4030dd00cc120cc4340c921ac6708310a0c12c038104d324130822057406b53039d2340805828801a5013d44ce2cc14150c3b0800f4060d880908201982518460c0a0904c1a00cf2019a26a94010492036b007079aa6412c104414c80deae171a63900104416080ee8e1b920cd2af0a4028f686b1817a4590d014d7300208830101cec8375419a555006524119108941c3986601401069a00925d6a00d02c1980601401071203900893080830b1a60d880e0820120ae614ca30020883cd0c4126e10076d1090d730460c0a0804c1800e48c20c460c0a0804c1800e48e20c460c0a0804c1800e48020d32983910d800983b108260c4a08040100ce8a024ce60e04008a29903a10d80b9032108460c0a0804c1800e4c220d060e84409a3910dc00983b108260c4a08040100ce8e024d660e020080000612000008f0000001304532c1000000015000000d4300250c09a0c2431d4311052f30ecd3b0c750402d0bc43f30e431d852134efd0bcc350c7810ccd3b34ef30d4912853f30ecd3b50da180108822008822008f2ff30460082200882204cd2ab48d0dd080000000033114d530ba33013d134b5300a33114d530ba33013a135b5400a33115a530ba43013a135b5400a331163d0d40229cc44344d2d8cc24c84d6d40229cc448c41530ba4301321064d2d90c24c841834b5400a33114d530ba3306c4034d8000c1b104c3600c306c4620d00350d839a8631628000200806933c5857208c181c11088241270fcd4307d32411082281d4cd4313d1c13407008288107df3d08c18141208824119cc43336c4030dd00cc120cc4340c921ac6708310a0c12c038104d324130822057406b33039d2340805828801a5013d44ce2cc14150c3b0800f4060d880908201982518460c0a0904c1a00cf2019a26a94010492036b007079aa6412c104414c80deae171a63900104416080ee8e1b920cd2af0a4028f686b1817a4590d014d7300208830101cec8375419a555006524119108941c3986601401069a00925d6a00d02c1980601401071203900893080830b1a60d880e0820120ae614ca30020883cd0c4126e10076d1090d730460c0a0804c1800e48c20c460c0a0804c1800e48e20c460c0a0804c1800e48020d32983910d800983b108260c4a08040100ce8a024ce60e04008a29903a10d80b9032108460c0a0804c1800e4c220d060e84409a3910dc00983b108260c4a08040100ce8e024d660e020080000612000002b0000001304412c1000000001000000d430020033114d530ba33013d134b5300ac30684400cc0b0011114034042c320a1618c181800088281030e814045c3a0a2618c181800088281830a814048c320a4618c181800088281930a81404bc3a0a5618c181800088281a30a81404ec320a7618c181800088281b30a814051c3a0a8618c181800088281c30a814054c320aa618c181800088281d30a814057c3a0ab618c181800088281e30a81901b000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838ed8004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838b28004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838b08004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838ae8004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838ac8004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838aa8004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838a88004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838a68004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000220000001304412c1000000003000000b45040d4300250400000000033114d530ba0b0240463a04002ac06e128286800230607008260b00b78300405190d6026a2696a01149684d0980105126035080e1a50d000460c0e0004c16017fe60080a321ac088810180201838a48004230605008260f00e7a200d1b10560000230607008260d00ba21044424a000061200000040000001304c188410184201894c21620000000712000001f000000320e10228414830c6841d98018b20d9871dc801cdf0dd861df801eb20e18f2eb8022cc0e38e2ed8024f10e68a2f98028ac0fc832fc802ddd0ff812fe8031f2103833288135941378534a8139b615b8736c813dd817985488814aa918b8d48c814cf118d85499814eb919f8d49d8150811a1855aa8152c91a0000000000000000650c000053020000120394a02a00000001000000ac0c0000050000004400000001000000500000002200000060010000540000004009000000000000b10c000021000000d20c00000600000047170000c70000000000000054000000000000000303000006000000090d000017000000200d00007d000000e10d0000ee000000cf0e0000d00000009f0f0000430000001b100000440000005f10000049000000a8100000a80000005011000071000000c11100004a0000000b1200009b000000340800000b0000003f0800001c00000058140000440000009c14000022000000be1400004b000000091500004d000000561500001a0000007015000039000000a915000022000000cb15000018000000e315000021000000041600001a0000001e16000022000000401600001800000058160000220000007a1600001a0000009416000022000000b61600001a000000d016000022000000f21600001a0000000c170000210000002d1700001a000000d80c0000150000005b08000016000000ffffffff0024000071080000120000007108000012000000ffffffff08240000030300000600000003030000060000000000000010240000ed0c00001c000000830800001d000000ffffffff08340000090d00001700000009030000180000000100000010360000200d00007d000000210300007e00000002000000102400009d0d000023000000a008000024000000ffffffff08240000c00d000021000000c408000022000000ffffffff08240000e10d0000ee0000009f030000ef0000000300000010240000cf0e0000d00000008e040000d100000004000000102400009f0f0000430000005f050000440000000500000010240000e20f000022000000e608000023000000ffffffff0824000004100000170000000909000018000000ffffffff083400001b10000044000000a30500004500000006000000102400005f10000049000000e80500004a0000000700000010360000a8100000a800000032060000a900000008000000102400005011000071000000db06000072000000090000001024000021090000190000002109000019000000ffffffff082c0000c11100004a0000004d0700004b0000000a000000103600003a090000100000003a09000010000000ffffffff082400000b1200009b000000980700009c0000000b00000010360000a6120000150000004a0900000f000000ffffffff08240000590900000d000000590900000d000000ffffffff082c0000660900000f000000660900000f000000ffffffff08240000340800000b000000340800000b0000000c000000102400003f0800001c0000003f0800001c0000000d0000001024000075090000170000007509000017000000ffffffff08240000bb120000150000008c09000016000000ffffffff00240000d012000023000000a209000024000000ffffffff08240000f312000015000000c609000016000000ffffffff002400000813000023000000dc09000024000000ffffffff082400002b13000015000000000a000016000000ffffffff002400004013000023000000160a000024000000ffffffff0824000063130000150000003a0a000016000000ffffffff002400007813000023000000500a000024000000ffffffff082400009b13000015000000740a000016000000ffffffff00240000b0130000230000008a0a000024000000ffffffff08240000d313000015000000ae0a000016000000ffffffff00240000e813000023000000c40a000024000000ffffffff082400000b14000015000000e80a000016000000ffffffff002400002014000023000000fe0a000024000000ffffffff082400004314000015000000220b000016000000ffffffff00240000380b00000b000000380b00000b000000ffffffff08240000430b00000c000000430b00000c000000ffffffff082400004f0b00000d0000004f0b00000d000000ffffffff082400005c0b00000e0000005c0b00000e000000ffffffff082400006a0b00000d0000006a0b00000d000000ffffffff08240000770b00000e000000770b00000e000000ffffffff08240000850b00000c000000850b00000c000000ffffffff08240000910b00000d000000910b00000d000000ffffffff082400009e0b00000d0000009e0b00000d000000ffffffff08240000ab0b00000e000000ab0b00000e000000ffffffff08240000b90b000006000000b90b000006000000ffffffff08240000bf0b000018000000bf0b000018000000ffffffff00240000d70b000018000000d70b000018000000ffffffff00240000ef0b000018000000ef0b000018000000ffffffff00240000070c000018000000070c000018000000ffffffff002400001f0c0000180000001f0c000018000000ffffffff00240000370c000018000000370c000018000000ffffffff002400004f0c0000180000004f0c000018000000ffffffff00240000670c000018000000670c000018000000ffffffff002400007f0c0000180000007f0c000018000000ffffffff00240000970c000011000000970c000011000000ffffffff00240000a80c000004000000a80c000004000000ffffffff08240000581400004400000000000000450000000e000000101600009c1400002200000045000000230000000f00000010160000be1400004b000000680000004c0000001000000010160000091500004d000000b40000004e0000001100000010160000561500001a000000020100001b000000120000001016000070150000390000001d0100003a0000001300000010040000a91500002200000057010000230000001400000010160000cb150000180000007a010000190000001500000010160000e31500002100000093010000220000001600000010160000041600001a000000b50100001b00000017000000101600001e16000022000000d00100002300000018000000101600004016000018000000f301000019000000190000001016000058160000220000000c020000230000001a000000101600007a1600001a0000002f0200001b0000001b0000001016000094160000220000004a020000230000001c00000010160000b61600001a0000006d0200001b0000001d00000010160000d01600002200000088020000230000001e00000010160000f21600001a000000ab0200001b0000001f000000101600000c17000021000000c60200002200000020000000101600002d1700001a000000e80200001b0000002100000010160000000000005d0c0000070600001203942e68000000013f3f5f43405f30424d404e4944444b4d4c4e403f244346733f35696e7075743f35416c6963653f333f353f244346643f35426f623f333f353f244346643f363f24414140013f3f5f43405f304d404a4c4443494348504054657374506572664164643f24414140013f3f5f43405f304441405043494e4648484c403f244346733f353f244346643f3574696d65733f303f35746f74616c3f35636f73743f24434975733f24434a3f333f353f244346663f3540013f3f5f43405f30424f40434a4b4d4c424c4b403f244346733f35726573756c743f2443493f24444e416c6963653f353f244346733f35426f623f24434a3f333f353f244346643f363f24414140013f3f5f43405f30314d4946474241474a403f24434c3f24414140013f5f4f7074696f6e7353746f72616765403f313f3f5f5f6c6f63616c5f737464696f5f7072696e74665f6f7074696f6e7340403940345f4b41013f3f5f43405f304d40434b4a4d48444b4b4054657374506572665375623f24414140013f3f5f43405f30314a4f414d4c484f50403f393f24414140013f3f5f43405f304d40454e4a484f49494054657374506572664d756c3f24414140013f3f5f43405f30314e42454e43424349403f24434b3f24414140013f3f5f43405f304d404e4d4d414a424d4e4054657374506572664469763f24414140013f3f5f43405f30314b4d444b4e46474e403f313f24414140013f3f5f43405f304d404e4e4c424e4343474054657374506572664d6f643f24414140013f3f5f43405f303146474e46444e4f48403f2443463f24414140013f3f5f43405f304d404a474b4641484b4a405465737450657266416e643f24414140013f3f5f43405f3031484e5049474f4345403f2443473f24414140013f3f5f43405f304d4048504e4f4a50464a4054657374506572664f72723f24414140013f3f5f43405f3031444e4b4d4e4c504b403f24484d3f24414140013f3f5f43405f304d40454a4e4550424f405465737450657266456f723f24414140013f3f5f43405f30314a4b424f4a4e4e4b403f24464f3f244141407072696e7466013f3f30496e746567657240656d7040405145414140585a013f6e6f774073797374656d5f636c6f636b406368726f6e6f40737464404053413f41563f2474696d655f706f696e74405573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a474941404073746440404032334040323340585a013f3f243f475573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a47494140407374644040403132405633313240406368726f6e6f40737464404059413f41563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040303140414542563f2474696d655f706f696e74405573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a47494140407374644040403233404030314030405a013f3f246475726174696f6e5f6361737440563f246475726174696f6e405f4a553f24726174696f402430302430504543454140407374644040406368726f6e6f4073746440405f4a553f24726174696f4024303024304a494a4749414040334058406368726f6e6f40737464404059413f41563f246475726174696f6e405f4a553f24726174696f40243030243050454345414040737464404040303140414542563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040303140405a013f636f756e74403f246475726174696f6e405f4a553f24726174696f402430302430504543454140407374644040406368726f6e6f407374644040514542415f4a585a013f636f756e74403f246475726174696f6e405f4a553f24726174696f4024303024304a494a47494140407374644040406368726f6e6f407374644040514542415f4a585a013f3f243f305f4a58403f246475726174696f6e405f4a553f24726174696f402430302430504543454140407374644040406368726f6e6f40737464404051454141404145425f4a405a013f74696d655f73696e63655f65706f6368403f2474696d655f706f696e74405573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040323340406368726f6e6f407374644040514542413f41563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040323340585a013f3f243f475f4a553f24726174696f4024303024304a494a474941404073746440405f4a55303140406368726f6e6f40737464404059413f41563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040303140414542563230314030405a013f3f243f305f4a58403f246475726174696f6e405f4a553f24726174696f4024303024304a494a47494140407374644040406368726f6e6f40737464404051454141404145425f4a405a013f3f303f2474696d655f706f696e74405573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040323340406368726f6e6f4073746440405145414140414542563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040313240405a5f76667072696e74665f6c5f5f6c6f63616c5f737464696f5f7072696e74665f6f7074696f6e73013f546573745065726641646440405941484848405a5f5f4378784672616d6548616e646c657233013f3f30496e746567657240656d70404051454141404145424848405a013f3f48496e746567657240656d704040514542413f415630314041454256303140405a013f3f34496e746567657240656d704040514541414145415630314056303140405a013f72657665616c5f696e7440496e746567657240656d704040514542415f4a48405a013f3f31496e746567657240656d7040405145414140585a6c6c766d2e6d656d6370792e703069382e703069382e6936345f5874696d655f6765745f7469636b735f5f7374645f7465726d696e6174656c6c766d2e76615f73746172745f5f616372745f696f625f66756e635f5f737464696f5f636f6d6d6f6e5f76667072696e7466013f546573745065726653756240405941484848405a013f3f47496e746567657240656d704040514542413f415630314041454256303140405a013f54657374506572664d756c40405941484848405a013f3f44496e746567657240656d704040514542413f415630314041454256303140405a013f546573745065726644697640405941484848405a013f3f4b496e746567657240656d704040514542413f415630314041454256303140405a013f54657374506572664d6f6440405941484848405a013f3f4c496e746567657240656d704040514542413f415630314041454256303140405a013f5465737450657266416e6440405941484848405a013f3f49496e746567657240656d704040514542413f415630314041454256303140405a013f54657374506572664f727240405941484848405a013f3f55496e746567657240656d704040514542413f415630314041454256303140405a013f5465737450657266456f7240405941484848405a013f3f54496e746567657240656d704040514542413f415630314041454256303140405a013f5465737450657266416c6c40405941484848405a52656164566172426f6f6c5772697465566172426f6f6c5265616456617255696e743332577269746556617255696e7433325265616456617255696e743634577269746556617255696e74363452656164566172466c6f61745772697465566172466c6f617452656164566172446f75626c655772697465566172446f75626c656d616c6c6f63506c61744f4e5f656e7472795f5465737450657266416464506c61744f4e5f656e7472795f5465737450657266537562506c61744f4e5f656e7472795f54657374506572664d756c506c61744f4e5f656e7472795f5465737450657266446976506c61744f4e5f656e7472795f54657374506572664d6f64506c61744f4e5f656e7472795f5465737450657266416e64506c61744f4e5f656e7472795f54657374506572664f7272506c61744f4e5f656e7472795f5465737450657266456f72506c61744f4e5f656e7472795f5465737450657266416c6c506c61744f4e5f656e7472795f6672656566726565362e302e317838365f36342d70632d77696e646f77732d6d73766331392e31352e32363732396d6f64756c653f546573745065726641646440405941484848405a3f3f30496e746567657240656d70404051454141404145424848405a3f3f30496e746567657240656d7040405145414140585a3f6e6f774073797374656d5f636c6f636b406368726f6e6f40737464404053413f41563f2474696d655f706f696e74405573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a474941404073746440404032334040323340585a3f3f48496e746567657240656d704040514542413f415630314041454256303140405a3f3f34496e746567657240656d704040514541414145415630314056303140405a3f3f243f475573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a47494140407374644040403132405633313240406368726f6e6f40737464404059413f41563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040303140414542563f2474696d655f706f696e74405573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a47494140407374644040403233404030314030405a3f3f246475726174696f6e5f6361737440563f246475726174696f6e405f4a553f24726174696f402430302430504543454140407374644040406368726f6e6f4073746440405f4a553f24726174696f4024303024304a494a4749414040334058406368726f6e6f40737464404059413f41563f246475726174696f6e405f4a553f24726174696f40243030243050454345414040737464404040303140414542563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040303140405a3f636f756e74403f246475726174696f6e405f4a553f24726174696f402430302430504543454140407374644040406368726f6e6f407374644040514542415f4a585a3f72657665616c5f696e7440496e746567657240656d704040514542415f4a48405a3f3f31496e746567657240656d7040405145414140585a3f636f756e74403f246475726174696f6e405f4a553f24726174696f4024303024304a494a47494140407374644040406368726f6e6f407374644040514542415f4a585a3f3f243f305f4a58403f246475726174696f6e405f4a553f24726174696f402430302430504543454140407374644040406368726f6e6f40737464404051454141404145425f4a405a3f74696d655f73696e63655f65706f6368403f2474696d655f706f696e74405573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040323340406368726f6e6f407374644040514542413f41563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040323340585a3f3f243f475f4a553f24726174696f4024303024304a494a474941404073746440405f4a55303140406368726f6e6f40737464404059413f41563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040303140414542563230314030405a3f3f243f305f4a58403f246475726174696f6e405f4a553f24726174696f4024303024304a494a47494140407374644040406368726f6e6f40737464404051454141404145425f4a405a3f3f303f2474696d655f706f696e74405573797374656d5f636c6f636b406368726f6e6f407374644040563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040323340406368726f6e6f4073746440405145414140414542563f246475726174696f6e405f4a553f24726174696f4024303024304a494a4749414040737464404040313240405a5f5f696d705f5f5f7374645f7465726d696e6174653f546573745065726653756240405941484848405a3f3f47496e746567657240656d704040514542413f415630314041454256303140405a3f54657374506572664d756c40405941484848405a3f3f44496e746567657240656d704040514542413f415630314041454256303140405a3f546573745065726644697640405941484848405a3f3f4b496e746567657240656d704040514542413f415630314041454256303140405a3f54657374506572664d6f6440405941484848405a3f3f4c496e746567657240656d704040514542413f415630314041454256303140405a3f5465737450657266416e6440405941484848405a3f3f49496e746567657240656d704040514542413f415630314041454256303140405a3f54657374506572664f727240405941484848405a3f3f55496e746567657240656d704040514542413f415630314041454256303140405a3f5465737450657266456f7240405941484848405a3f3f54496e746567657240656d704040514542413f415630314041454256303140405a3f5465737450657266416c6c40405941484848405a3f3f5f43405f30424d404e4944444b4d4c4e403f244346733f35696e7075743f35416c6963653f333f353f244346643f35426f623f333f353f244346643f363f244141403f3f5f43405f304d404a4c4443494348504054657374506572664164643f244141403f3f5f43405f304441405043494e4648484c403f244346733f353f244346643f3574696d65733f303f35746f74616c3f35636f73743f24434975733f24434a3f333f353f244346663f35403f3f5f43405f30424f40434a4b4d4c424c4b403f244346733f35726573756c743f2443493f24444e416c6963653f353f244346733f35426f623f24434a3f333f353f244346643f363f244141403f3f5f43405f30314d4946474241474a403f24434c3f244141403f5f4f7074696f6e7353746f72616765403f313f3f5f5f6c6f63616c5f737464696f5f7072696e74665f6f7074696f6e7340403940345f4b413f3f5f43405f304d40434b4a4d48444b4b4054657374506572665375623f244141403f3f5f43405f30314a4f414d4c484f50403f393f244141403f3f5f43405f304d40454e4a484f49494054657374506572664d756c3f244141403f3f5f43405f30314e42454e43424349403f24434b3f244141403f3f5f43405f304d404e4d4d414a424d4e4054657374506572664469763f244141403f3f5f43405f30314b4d444b4e46474e403f313f244141403f3f5f43405f304d404e4e4c424e4343474054657374506572664d6f643f244141403f3f5f43405f303146474e46444e4f48403f2443463f244141403f3f5f43405f304d404a474b4641484b4a405465737450657266416e643f244141403f3f5f43405f3031484e5049474f4345403f2443473f244141403f3f5f43405f304d4048504e4f4a50464a4054657374506572664f72723f244141403f3f5f43405f3031444e4b4d4e4c504b403f24484d3f244141403f3f5f43405f304d40454a4e4550424f405465737450657266456f723f244141403f3f5f43405f30314a4b424f4a4e4e4b403f24464f3f24414140202f4641494c49464d49534d415443483a225f4d53435f5645523d3139303022202f4641494c49464d49534d415443483a225f4954455241544f525f44454255475f4c4556454c3d3022202f4641494c49464d49534d415443483a2252756e74696d654c6962726172793d4d545f53746174696352656c6561736522202f44454641554c544c49423a6c696263706d742e6c6962202f4641494c49464d49534d415443483a225f4352545f535444494f5f49534f5f574944455f535045434946494552533d3022000000000000"

/// Starter -> INVITOR_VALUE_TEMPLATE
#define INVITOR_VALUE "0x60ceca9c1290ee56b98d4e160ef0453f7c40d219"

/// Participator, use symbol '&' to split, eg:a&b&c -> PARTIES_VALUE_TEMPLATE
#define PARTIES_VALUE "0x60ceca9c1290ee56b98d4e160ef0453f7c40d219&0x3771c08952f96e70af27324de11bb380ec388ec3"

/// Urls for participators, use symbol '&' to split.
/// URLS -> URLS_VALUE_TEMPLATE
#define URLS_VALUE "0x60ceca9c1290ee56b98d4e160ef0453f7c40d219$DirectNodeServer:default -h 10.10.8.20 -p 10001,0x3771c08952f96e70af27324de11bb380ec388ec3$DirectNodeServer:default -h 10.10.8.20 -p 10002"

/// Rule of allocation.
/// format:k1:v1,k2:v2,k3:v3 -> PROFIT_RULES_VALUE
#define PROFIT_RULES_VALUE "0x60ceca9c1290ee56b98d4e160ef0453f7c40d219:1,0x3771c08952f96e70af27324de11bb380ec388ec3:2"

/// Calu method's price -> METHOD_PRICE_VALUE
/// rule:${METHOD}&${VALUE},${METHOD}&${VALUE}
/// eg:
/// func01$10000000000000000,func02$200000000000000,func03$4000000000000000000000000000
#define METHOD_PRICE_VALUE "foo_abs$200"

/// the prefix key of map struct
#define PREFIX_RULES_MAP PREFIX "_MAP_RULE_"
#define PREFIX_RESULT_MAP PREFIX "_MAP_RESULT_"
#define PREFIX_ALLOT_MAP PREFIX "_MAP_ALLOT_"
#define PREFIX_METHOD_MAP PREFIX "_MAP_PRICE_"

class MPC : public platon::Contract {
public:
  // define event.
  PLATON_EVENT(start_calc_event, uint64_t, const char *)
  PLATON_EVENT(set_result_event, uint64_t, const char *)
  PLATON_EVENT(set_fees_event, uint64_t, const char *)

  void init() {
    platon::setState(OWNER, platon::caller().toString()); // save msg.sender
    platon::setState(KEY_INVITORS, INVITOR_VALUE);        // save invitor
    platon::setState(KEY_PARTIES, PARTIES_VALUE);         // save partner
    platon::setState(KEY_URLS, URLS_VALUE);               // save all urls
    platon::setState(KEY_IR, IR_VALUE);                   // save ir data
    init_set_urls();                                      // save each one by id
    init_set_price(); // save price of method
  }

  /// get the owner address of contract.
  const char *get_owner() const {
    std::string _owner_;
    platon::getState(OWNER, _owner_);
    return _owner_.c_str();
  }

  void TestPerfAdd(const char *extra) {start_calc("TestPerfAdd", extra);}
  void TestPerfSub(const char *extra) {start_calc("TestPerfSub", extra);}
  void TestPerfMul(const char *extra) {start_calc("TestPerfMul", extra);}
  void TestPerfDiv(const char *extra) {start_calc("TestPerfDiv", extra);}
  void TestPerfMod(const char *extra) {start_calc("TestPerfMod", extra);}
  void TestPerfAnd(const char *extra) {start_calc("TestPerfAnd", extra);}
  void TestPerfOrr(const char *extra) {start_calc("TestPerfOrr", extra);}
  void TestPerfEor(const char *extra) {start_calc("TestPerfEor", extra);}
  void TestPerfAll(const char *extra) {start_calc("TestPerfAll", extra);}

  /// trigger mpc compute.
  void start_calc(const char *method, const char *extra) {

    // check msg.send is valid
    bool _isPartner = is_partner();
    if (!_isPartner) {
      platon::println("Invalid msg.sender, not belong to partners.");
      PLATON_EMIT_EVENT(start_calc_event, 0,
                        "Invalid msg.sender, not belong to partners.");
      return;
    }

    // check value is greater than preprice.
    bool is_enough_res = is_enough_price(method);
    if (!is_enough_res) {
      platon::println("insufficient value to the method of ", method);
      PLATON_EMIT_EVENT(start_calc_event, 0,
                        "Insufficient value for the method.");
      return;
    }

    // gen task id and save value
    std::string task_id_str = gen_task_id();
    const char *task_id = task_id_str.c_str();
    platon::println("New task id: ", task_id);
    bool save_res = save_allot_amount(task_id);
    if (!save_res) {
      platon::println("save allot amount fail");
      PLATON_EMIT_EVENT(start_calc_event, 0, "save allot amount fail");
      return;
    }

    // save task information. INFO_PREFIX + TASK_ID
    std::string task_key_str = KEY_TASK_INFO + task_id_str;
    std::string info_str =
        std::string(method) + COMMON_SPLIT_CHAR + std::string(extra);
    platon::println("save info for task:", "key:=", task_key_str, "info:=", info_str);
    platon::setState(task_key_str, info_str);
    platon::println("start success..");
    platon::println("Finalize task id: ", task_id);
    PLATON_EMIT_EVENT(start_calc_event, 1, task_id);
  }

  /// The result recored, and allot profit to participators.
  void set_result(const char *taskId, uint64_t status, const char *data) {
    // check msg.send is valid
    bool _isPartner = is_partner();
    if (!_isPartner) {
      platon::println(
          "set_result->Invalid msg.sender, not belong to partners.");
      PLATON_EMIT_EVENT(start_calc_event, 0,
                        "Invalid msg.sender, not belong to partners.");
      return;
    }

    std::string key_str = PREFIX_RESULT_MAP + std::string(taskId);
    // check result set
    std::string res_value_str;
    platon::getState(key_str, res_value_str);
    if (res_value_str.length() > 1) {
      platon::println("set_result-> set already. Can not reset again.");
      PLATON_EMIT_EVENT(start_calc_event, 0,
                        "set already. Can not reset again.");
      return;
    }

    // save result
    std::string status_str = toString(status);
    std::string data_str = std::string(data);
    std::string value_str = status_str + COMMON_SPLIT_CHAR + data_str;
    platon::println("save result, key: ", key_str, " value:", value_str);
    platon::setState(key_str, value_str);

    // divide the money. equal division.
    if (status != 1) { // 1 success 0 fail.
      platon::println("set_result-> status must equal 1.");
      PLATON_EMIT_EVENT(start_calc_event, 0, "status must equal 1.");
      return;
    }
    platon::u256 amount_i = get_saved_amount(taskId);
    const char *partners_c = get_participants();
    std::string partner_str = std::string(partners_c);
    std::vector<std::string> partner_vec =
        split(partner_str, COMMON_SPLIT_CHAR);

    platon::u256 count_i(partner_vec.size());

    platon::println("part per:", count_i.convert_to<std::string>());
    platon::u256 each_one_i = amount_i / count_i;
    platon::println("avg :", each_one_i.convert_to<std::string>());

    // transfer to partner
    for (unsigned int i = 0; i < partner_vec.size(); ++i) {
      std::string p_str = partner_vec[i];
      platon::println("transfer to:", p_str,
                      " value:", each_one_i.convert_to<std::string>());
      platon::Address _addr(p_str, true);
      platon::callTransfer(_addr, each_one_i);
    }
    platon::println("Set result success.");
    PLATON_EMIT_EVENT(set_result_event, 1, "Setting result success.");
  }

  /// k1:v1,k2:v2,k3:v3
  void set_fees(const char *fees) {
    platon::println("into set_fees...");
    PLATON_EMIT_EVENT(set_fees_event, 1, "set fees done.");
  }

  const char *get_ir_data() const {
    std::string irdata;
    platon::getState(KEY_IR, irdata);
    return irdata.c_str();
  }

  const char *get_participants() const {
    std::string parties;
    platon::getState(KEY_PARTIES, parties);
    platon::println("get_participants:", parties);
    return parties.c_str();
  }

  const char *get_urls() const {
    std::string urls;
    platon::getState(KEY_URLS, urls);
    return urls.c_str();
  }

  const char *get_url_by_id(const char *id) const {
    std::string url;
    std::string key_str = KEY_URLS + std::string(id);
    platon::getState(key_str, url);
    return url.c_str();
  }

  const char *get_result(const char *task_id) const {
    std::string id_str = std::string(task_id);
    std::string key_str = PREFIX_RESULT_MAP + std::string(id_str);
    std::string result;
    platon::getState(key_str, result);
    // std::string value_str = status_str + COMMON_SPLIT_CHAR + data_str;
    std::vector<std::string> partner_vec = split(result, COMMON_SPLIT_CHAR);
    if (partner_vec.size() != 2) {
      return "";
    }
    return partner_vec[1].c_str();
  }

  uint64_t get_status(const char *task_id) const {
    std::string id_str = std::string(task_id);
    std::string key_str = PREFIX_RESULT_MAP + std::string(id_str);
    std::string result;
    platon::getState(key_str, result);
    std::vector<std::string> partner_vec = split(result, COMMON_SPLIT_CHAR);
    if (partner_vec.size() != 2) {
      return 0;
    }
    uint64_t st = stouint64(partner_vec[0]);
    return st;
  }

  const char *get_fee(const char *method) const {
    platon::u256 fee;
    std::string key_str = KEY_METHOD_PRICE + std::string(method);
    platon::getState(key_str, fee);
    platon::println("call get_fee. - ", fee.convert_to<std::string>());
    return fee.convert_to<std::string>().c_str();
  }

  const char *get_invitor() const {
    std::string invitor;
    platon::getState(KEY_INVITORS, invitor);
    return invitor.c_str();
  }

private:
  std::string gen_task_id() const {
    uint64_t nonce_i = getCallerNonce();
    std::string nonce_str = toString(nonce_i);
    platon::h160 caller_h = platon::caller();
    std::string caller_h_str = caller_h.toString();
    platon::println("get nonce: ", nonce_str);
    platon::println("get caller_h_str: ", caller_h_str);
    std::string src_str = nonce_str + caller_h_str;
    char *t_src;
    strcpy(t_src, src_str.c_str());

    platon::h256 sha3_h = platon::sha3((platon::byte *)t_src, strlen(t_src));
    std::string sha3_h_str = sha3_h.toString();
    platon::println("task id : ", sha3_h_str);
    return sha3_h_str;
  }

  bool is_partner() {
    platon::h160 caller_h = platon::caller();
    std::string caller_h_str = caller_h.toString();
    std::string partner_str;
    platon::getState(KEY_PARTIES, partner_str);
    platon::println("Participator :", partner_str);
    platon::println("Caller :", caller_h_str);
    std::string::size_type idx = caller_h_str.find("0x");
    if (idx == std::string::npos) {
      caller_h_str = "0x" + caller_h_str;
    }
    platon::println("Caller End:", caller_h_str);
    std::vector<std::string> partner_vec =
        split(partner_str, COMMON_SPLIT_CHAR);
    for (unsigned int i = 0; i < partner_vec.size(); ++i) {
      platon::println("v_caller:", partner_vec[i]);
      if (strcmp(caller_h_str.c_str(), partner_vec[i].c_str()) == 0) {
        return true;
      }
    }
    return false;
  }

  /// blance is engouth for caller to pay the method's price.
  bool is_enough_price(const char *method) {
    // the price of method.
    platon::u256 fee;
    std::string key_str = KEY_METHOD_PRICE + std::string(method);
    platon::println("is_enough_price : key_str", key_str);
    platon::getState(key_str, fee);
    platon::println("is_enough_price:call get_fee. - ",
                    fee.convert_to<std::string>());
    // the pricee of value to caller.
    platon::u256 _value = platon::callValue();
    platon::println("is_enough_price:call get_value. - ",
                    _value.convert_to<std::string>());
    if (_value >= fee) {
      platon::println("is_enough_price: return true.");
      return true;
    }
    platon::println("is_enough_price: return false.");
    return false;
  }

  /// transfer of value, from user's account to contract's account.
  bool save_allot_amount(const char *task_id) {
    // platon::balance().convert_to<std::string>().c_str();
    platon::u256 value_u = platon::callValue();
    std::string key_str = PREFIX_ALLOT_MAP + std::string(task_id);

    std::string value_str = value_u.convert_to<std::string>();
    platon::println("save_allot_amount: ", key_str, " - ", value_str);
    platon::setState(key_str, value_u);
    return true;
  }

  platon::u256 get_saved_amount(const char *task_id) {
    std::string key_str = PREFIX_ALLOT_MAP + std::string(task_id);
    platon::u256 value_u;
    platon::getState(key_str, value_u);
    platon::println("get_saved_amout: ", value_u.convert_to<std::string>());
    return value_u;
  }

  void init_set_urls() {
    // URLS_VALUE -> "id01$tcpSession:tcp -p 9527,id02$tcpSession:tcp -p
    // 9527,id03$tcpSession:tcp -p 9527"
    char *values = URLS_VALUE;
    char *pattern = ",";
    // ["id01$tcpSession:tcp -p 9527", "id02$tcpSession:tcp -p 9527",
    // "id03$tcpSession:tcp -p 9527"] KEY_URLS + "id01" -> tcpSession:tcp -p
    // 9527
    platon::println("---- begin split ------");
    std::vector<std::string> arr = split(values, pattern);
    for (unsigned int i = 0; i < arr.size(); ++i) {
      char *trim_res = new char[100];
      char *str_in = new char[100];
      strcpy(str_in, arr[i].c_str());

      str_trim(str_in, trim_res);

      std::vector<std::string> id_valule_arr = split(str_in, "$");
      if (id_valule_arr.size() != 2) {
        platon::println("Invalid value str of urls.");
        platon::platonThrow("Invalid value str of urls.");
      }
      // do set state
      std::string _key = KEY_URLS + id_valule_arr[0];
      std::string _value = id_valule_arr[1];
      platon::println("init urls, key : ", _key, " , values: ", _value);
      platon::setState(_key, _value);
      delete[] str_in;
      delete[] trim_res;
    }
  }

  void init_set_price() {
    // METHOD_PRICE_VALUE ->
    // "func01$10000000000000000,func02$200000000000000,func03$4000000000000000000000000000"
    char *values = METHOD_PRICE_VALUE;
    char *pattern = ",";
    // ["func01$10000000000000000", "func01$10000000000000000",
    // "func01$10000000000000000"] PREFIX_METHOD_MAP + "func01" ->
    // 10000000000000000
    platon::println("---- Begin split price ------");

    std::vector<std::string> arr = split(values, pattern);
    platon::println("---- End split price ------", arr.size());
    for (unsigned int i = 0; i < arr.size(); ++i) {
      char *trim_res = new char[100];
      char *str_in = new char[100];
      strcpy(str_in, arr[i].c_str());
      str_trim(str_in, trim_res);

      std::vector<std::string> id_valule_arr = split(str_in, "$");
      if (id_valule_arr.size() != 2) {
        platon::println("Invalid value str of price.");
        platon::platonThrow("Invalid value str of price.");
      }
      // do set state
      std::string key_str = KEY_METHOD_PRICE + id_valule_arr[0];
      std::string value_str = id_valule_arr[1];
      platon::println("init price, key : ", key_str, " , values: ", value_str);
      platon::u256 value_u(value_str);
      platon::setState(key_str, value_u);
      delete[] str_in;
      delete[] trim_res;
    }
  }

private:
  uint64_t stouint64(const std::string &num) const {
    uint64_t res = 0;
    for (size_t i = 0; i < num.length(); i++) {
      res = res * 10 + (num[i] - '0');
    }
    platon::println("stouint64 ", num, "->", res);
    return res;
  }

  std::string toString(uint64_t num) const {
    std::string res;
    while (num != 0) {
      char c = num % 10 + '0';
      num /= 10;
      res.insert(0, 1, c);
    }
    platon::println("toString ", num, "->", res);
    return res;
  }

  std::vector<std::string> split(const std::string &str,
                                 const std::string &pattern) const {
    // const char* convert to char*
    char *strc = new char[std::strlen(str.c_str()) + 1];
    strcpy(strc, str.c_str());
    std::vector<std::string> result_vec;
    char *tmp_str = strtok(strc, pattern.c_str());
    while (tmp_str != NULL) {
      result_vec.push_back(std::string(tmp_str));
      tmp_str = strtok(NULL, pattern.c_str());
    }
    delete[] strc;
    return result_vec;
  }

  void str_trim(char *str_in, char *str_out) {
    int i, j;
    i = 0;
    j = strlen(str_in) - 1;
    while (str_in[i] == ' ') {
      i++;
    }
    while (str_in[j] == ' ') {
      --j;
    }
    strncpy(str_out, str_in + i, j - i + 1);
    str_out[j - i + 1] = '\0'; // end flag
  }
};
} // namespace mpc

PLATON_ABI(mpc::MPC, TestPerfAdd);
PLATON_ABI(mpc::MPC, TestPerfSub);
PLATON_ABI(mpc::MPC, TestPerfMul);
PLATON_ABI(mpc::MPC, TestPerfDiv);
PLATON_ABI(mpc::MPC, TestPerfMod);
PLATON_ABI(mpc::MPC, TestPerfAnd);
PLATON_ABI(mpc::MPC, TestPerfOrr);
PLATON_ABI(mpc::MPC, TestPerfEor);
PLATON_ABI(mpc::MPC, TestPerfAll);
PLATON_ABI(mpc::MPC, start_calc);
PLATON_ABI(mpc::MPC, get_owner);
PLATON_ABI(mpc::MPC, set_result);
PLATON_ABI(mpc::MPC, get_ir_data);
PLATON_ABI(mpc::MPC, get_participants);
PLATON_ABI(mpc::MPC, get_urls);
PLATON_ABI(mpc::MPC, get_result);
PLATON_ABI(mpc::MPC, get_status);
PLATON_ABI(mpc::MPC, get_fee);
PLATON_ABI(mpc::MPC, get_invitor);
PLATON_ABI(mpc::MPC, get_url_by_id);

#endif